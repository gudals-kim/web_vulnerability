# design

## 🐥 기능요구사항



## 🎯 ERD
<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/erd.png?raw=true">

#### 앨범 테이블
> 아티스트id와 앨범태그id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/album.png?raw=true">

- 앨범ID : pk
- 아티스트ID : fk
- 앨범태그ID : fk
- 앨범 이름 : 앨범의 이름이 들어간다.
- 앨범 구분 : 앨범, 싱글, ep, 정규 중 하나가 들어간다.
- 앨범 설명 : 앨범 소개글이 들어간다.
- 앨범 발매일 : 앨범 발매일이 들어간다 (yyyy-mm-dd)
- 앨범 발매가 : 앨범 발매가가 들어간다.
- 앨범 커버이미지 : 커버 이미지의 주소가 들어간다.
- 앨범 판매량 : 앨범이 어플리케이션에서 판매될때마다 1씩 증가한 값이 들어간다.
- 조회량 : 앨범 상세 페이지에 접근할때마다 1씩 증가한 값이 들어간다.

#### 음원 테이블
> 앨범id와 아티스트id, 음원장르id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/soundtrack.png?raw=true">

- 음원ID : pk
- 앨범ID : fk
- 음원장르ID : fk
- 아티스트ID : fk
- 음원이름 : 음원 이름이 들어간다.
- 음원설명 : 음원 소개글이 들어간다.
- 트랙번호 : 이 음원이 앨범의 몇번째 트랙인지 들어간다.
- 음원 유튜브 : 음원의 유튜브 주소가 들어간다.
- 음원 파일 : 음원 파일의 주소가 들어간다.
- 타이틀곡 : 타이틀 곡 여부를 나타낸다. 기본값 'N'


#### 아티스트 테이블

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/artist.png?raw=true">

- 아티스트ID : pk
- 아티스트 이름 : 아티스트 이름이 들어간다.
- 아티스트 이미지 : 아티스트 사진의 주소가 들어간다.
- 아티스트 설명 : 아티스트를 나타내는 소개글이 들어간다.
- 데뷔일 : 아티스트 데뷔일이 들어간다 (yyyy-mm-dd)
- 팬덤 명 : 팬덤명이 들어간다.
- 소속사 : 소속사가 들어간다. 기본값 '없음'
- 활동장르 : 주 활동 장르가 들어간다. 
- sns주소 : 아티스트의 인스타 주소가 들어간다.

#### 리뷰 테이블
> 앨범id와 사용자id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/review.png?raw=true">

- 리뷰ID : pk
- 사용자ID : fk
- 앨범ID : fk
- 평점 : 앨범의 평가 점수가 들어간다. 0~100 사이의 정수가 들어간다.
- 후기 : 앨범의 후기가 들어간다. 


#### 좋아요 테이블
> 앨범id와 사용자id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/like.png?raw=true">

#### 장바구니 테이블
> 앨범id와 사용자id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/cart.png?raw=true">


#### 앨범 태그 테이블
> 앨범의 태그를 저장한다. 예) 빌보드200, 한국 명반 100 등 <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/album_tag.png?raw=true">

#### 음원 장르 테이블
> 음원의 장르를 저장한다. 예) 발라드, 랩, 알앤비, 재즈 등 <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/soundtrack_tag.png?raw=true">

#### 아티스트의 주 활동 장르 테이블
> 아티스트ID 와 음원장르id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/artist_to_soundtrack_tag.png?raw=true">

#### 사용자의 선호장르 테이블
> 사용자id와 음원장르id를 외래키로 가진다. <br>

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/soundtrack_tag_id.png?raw=true">

- 추천시스템 데이터로 사용된다.



## 👀 Page

#### home
> 로그인 시 login home page 랜더링 / 전체 상품 목록 및 상품 상세, home page를 제외한 모든 페이지 접근시 home으로 리다이렉트

<img src="https://github.com/gudals-kim/web_vulnerability/blob/delevlop/docs/v1/img/home.gif?raw=true">
 
#### login
- 이메일 폼
- 패스워드 폼
- 로그인 버튼
- 회원가입 버튼
- 비밀번호 찾기 버튼

#### sigh in
- 이름 폼
- 이메일 폼
- 비밀번호 폼
- 비밀번호 확인 폼

#### forget password validation
> pop-up
- 이름 폼
- 이메일 폼

#### forget password set
> pop-up 패스워드 수정 후 홈으로 리 다이렉트
- 패스워드 폼
- 패스워드 확인 폼
- 수정하기 버튼

#### login home
- header : 내 정보 / 모든 상품 보기 / 장바구니 / 좋아요한 상품 보기 / 
- 상단 인기 상품 배너 : 5개 
- 상품 목록 출력 : 높은 좋아요, 높은 판매량, 높은 조회량, 높은 평점

#### my page
- 이름 
- 이메일 
- 프로필 사진
- edit 버튼(접근시 비밀번호 확인 검증)
- 구매한 상품 보기
- 웹 머니 조회 및 충전 버튼
- 판매 상품 사진 및 이름
- 판매 상품 수정 버튼

#### verify password
> 비밀번호 확인 시 user edit으로 리다이렉트
- 패스워드 폼
- 패스워드 확인 폼
- 확인 버튼

#### user edit
- 이름 수정 폼




#### cash
- 

#### item-all


#### cart

#### item-like




#### seller page


#### item-detail
> 선택한 앨범 상세정보가 나온다.
1. 앨범 상세 정보
  - 앨범 ID
  - 앨범 발매일
  - 앨범 이름
  - 아티스트 ID
  - 아티스트 이름
  - 앨범 아트
  - 앨범 해설
  - 판매량
  - 조회수
  - 좋아요 수 (좋아요 테이블에서 가져옴)
  - 평점 수 (리뷰 테이블에서 가져옴)
  - 앨범의 수록곡 (노래 테이블에서 가져옴)
2. 수록곡 정보
   - 노래 id
   - 앨범 id
   - 아티스트 id
   - 장르 id (v2 개발 예정)
   - 트랙 번호
   - 노래 이름
   - 노래 유튜브 주소
   - 노래 해설
   - 노래 mp3 파일(v2 개발 예정)
3. 아티스트 정보
   - 아티스트 id
   - 아티스트 이름
   - 데뷔일
   - 팬덤이름
   - 소속사
   - 활동장르
   - sns
4. 같은 아티스트 앨범
> 최대 8개가 나온다. 발매일 빠른 기준
5. 추천 앨범
> v3 개발 예정
6. 인기 앨범
> v2에서 장르 별로 나눌 예정
   - 가장 많이 팔린 앨범
   - 조회수가 높은 앨범
   - 좋아요가 많은 앨범
   - 높은 평점인 앨범